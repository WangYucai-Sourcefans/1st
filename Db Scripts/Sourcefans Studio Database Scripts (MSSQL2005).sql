--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 11.0.1106
--   Created On : ÐÇÆÚËÄ, 25 ¾ÅÔÂ, 2014 
--   DBMS       : SQL Server 2005 
--   -------------------------------------------------- 


--  Drop Foreign Key Constraints 
IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Token_Progress') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Token DROP CONSTRAINT FK_Token_Progress
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Token_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Token DROP CONSTRAINT FK_Token_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Progress_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Progress DROP CONSTRAINT FK_Progress_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Progress_Process') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Progress DROP CONSTRAINT FK_Progress_Process
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Process_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Process DROP CONSTRAINT FK_Process_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Process_Application') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Process DROP CONSTRAINT FK_Process_Application
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_UserAccountMessage_Message') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.UserAccountMessage DROP CONSTRAINT FK_UserAccountMessage_Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_UserAccountMessage_UserAccount') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.UserAccountMessage DROP CONSTRAINT FK_UserAccountMessage_UserAccount
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_UserAccount_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.UserAccount DROP CONSTRAINT FK_UserAccount_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_UserAccount_UserProperty') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.UserAccount DROP CONSTRAINT FK_UserAccount_UserProperty
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_UserPropertyMessage_Message') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.UserPropertyMessage DROP CONSTRAINT FK_UserPropertyMessage_Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_UserPropertyMessage_UserProperty') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.UserPropertyMessage DROP CONSTRAINT FK_UserPropertyMessage_UserProperty
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_UserProperty_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.UserProperty DROP CONSTRAINT FK_UserProperty_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_CertificateMessage_Certificate') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.CertificateMessage DROP CONSTRAINT FK_CertificateMessage_Certificate
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_CertificateMessage_Message') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.CertificateMessage DROP CONSTRAINT FK_CertificateMessage_Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_Certificate_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.Certificate DROP CONSTRAINT FK_Certificate_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeWorkflow_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeWorkflow DROP CONSTRAINT FK_SubscribeWorkflow_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeWorkflow_Message') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeWorkflow DROP CONSTRAINT FK_SubscribeWorkflow_Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeWorkflow_SubscribeChannel') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeWorkflow DROP CONSTRAINT FK_SubscribeWorkflow_SubscribeChannel
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeChannel_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeChannel DROP CONSTRAINT FK_SubscribeChannel_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeChannel_SubscribeServer') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeChannel DROP CONSTRAINT FK_SubscribeChannel_SubscribeServer
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeChannel_PublishEvent') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeChannel DROP CONSTRAINT FK_SubscribeChannel_PublishEvent
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeServer_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeServer DROP CONSTRAINT FK_SubscribeServer_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SubscribeServer_DataCeter') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SubscribeServer DROP CONSTRAINT FK_SubscribeServer_DataCeter
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SsoConfiguration_Configuration') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SsoConfigurationMessage DROP CONSTRAINT FK_SsoConfiguration_Configuration
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_SsoConfigurationMessage_Message') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.SsoConfigurationMessage DROP CONSTRAINT FK_SsoConfigurationMessage_Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_Message_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.Message DROP CONSTRAINT FK_Message_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_Message_Event') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.Message DROP CONSTRAINT FK_Message_Event
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_PublishEvent_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.PublishEvent DROP CONSTRAINT FK_PublishEvent_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_Event_PublishEvent') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.Event DROP CONSTRAINT FK_Event_PublishEvent
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.FK_Event_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE dist.Event DROP CONSTRAINT FK_Event_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_IDTransfer_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.IDTransfer DROP CONSTRAINT FK_IDTransfer_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_IDTransfer_DataCeter') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.IDTransfer DROP CONSTRAINT FK_IDTransfer_DataCeter
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_IDTransfer_Base_02') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.IDTransfer DROP CONSTRAINT FK_IDTransfer_Base_02
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.FK_DataCeter_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE core.DataCeter DROP CONSTRAINT FK_DataCeter_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Application_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Application DROP CONSTRAINT FK_Application_Base
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Application_Configuration') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Application DROP CONSTRAINT FK_Application_Configuration
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.FK_Configuration_Base') AND OBJECTPROPERTY(id, 'IsForeignKey') = 1)
ALTER TABLE sso.Configuration DROP CONSTRAINT FK_Configuration_Base
;


--  Drop Tables, Stored Procedures and Views 

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.Token') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.Token
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.Progress') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.Progress
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.Process') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.Process
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.UserAccountMessage') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.UserAccountMessage
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.UserAccount') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.UserAccount
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.UserPropertyMessage') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.UserPropertyMessage
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.UserProperty') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE core.UserProperty
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.CertificateMessage') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.CertificateMessage
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.Certificate') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE core.Certificate
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.SubscribeWorkflow') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.SubscribeWorkflow
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.SubscribeChannel') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.SubscribeChannel
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.SubscribeServer') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.SubscribeServer
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.SsoConfigurationMessage') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.SsoConfigurationMessage
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.Message') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.Message
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.PublishEvent') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.PublishEvent
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('dist.Event') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE dist.Event
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.IDTransfer') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE core.IDTransfer
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.DataCeter') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE core.DataCeter
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.Application') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.Application
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('sso.Configuration') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE sso.Configuration
;

IF EXISTS (SELECT * FROM dbo.sysobjects WHERE id = object_id('core.Base') AND  OBJECTPROPERTY(id, 'IsUserTable') = 1)
DROP TABLE core.Base
;


--  Create Tables 
CREATE TABLE sso.Token ( 
	Id uniqueidentifier NOT NULL,    --  ÁîÅÆ±ê¼Ç¡£¹ØÁªµ½core.Base±í¡£ 
	ProgressId uniqueidentifier NOT NULL,    --  SSOµÇÂ¼½ø¶È±êÊ¶¡£¹ØÁªµ½sso.Progress±í¡£ 
	TokenData varbinary(max) NOT NULL,    --  ÁîÅÆ×Ö½ÚÊý¾Ý¡£ 
	TokenHexStr varchar(max) NOT NULL    --  ÁîÅÆµÄ16½øÖÆ×Ö·û´®±í´ïÊ½¡£ 
)
;

CREATE TABLE sso.Progress ( 
	Id uniqueidentifier NOT NULL,    --  µÇÂ¼½ø¶È±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	ProcessId uniqueidentifier NOT NULL,    --  µÇÂ¼½ø³Ì±êÊ¶¡£¹ØÁªµ½sso.Process±í¡£ 
	Success bit DEFAULT 1 NOT NULL    --  ÊÇ·ñ³É¹¦¡£1/0¡£ 
)
;

CREATE TABLE sso.Process ( 
	Id uniqueidentifier NOT NULL,    --  µÇÂ¼½ø³Ì±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	AppId uniqueidentifier NOT NULL,    --  ÇëÇóSSOµÇÂ¼ÑéÖ¤µÄÓ¦ÓÃ±êÊ¶¡£¹ØÁªµ½sso.Application±í¡£ 
	IsWeb bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÎªWEBÓ¦ÓÃ¡£ 
	RawUrl varchar(max) DEFAULT NULL,    --  ÇëÇóµÇÂ¼µÄÔ­Ê¼URL¡£ 
	ClientIP varchar(64) DEFAULT NULL,    --  ÇëÇóSSOµÄ¿Í»§¶ËIPµØÖ·¡£ 
	HostName varchar(256) DEFAULT NULL    --  ÇëÇóSSOµÄ¿Í»§¶ËÖ÷»úÃû³Æ¡£ 
)
;

CREATE TABLE dist.UserAccountMessage ( 
	MessageId uniqueidentifier NOT NULL,    --  ÕË»§ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£ 
	AccountId uniqueidentifier NOT NULL,    --  ÕË»§±êÊ¶¡£¹ØÁªµ½sso.UserAccount±í¡£ 
	UserName varbinary(max) NOT NULL,    --  ÓÃ»§Ãû×Ö½ÚÊý¾Ý£¨¼ÓÃÜµÄ£© 
	Password varchar(max) DEFAULT NULL,    --  ÕË»§¿ÚÁî£¨C# MD5¼ÓÃÜ£© 
	IsExternal bit DEFAULT 0 NOT NULL    --  ÊÇ·ñÎªÍâ²¿ÕË»§¡£1/0¡£ 
)
;

CREATE TABLE sso.UserAccount ( 
	Id uniqueidentifier NOT NULL,    --  ÕË»§±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	PropertyId uniqueidentifier DEFAULT NULL,    --  ¹ØÁªµÄÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.UserProperty±í¡£ 
	UserName varbinary(max) NOT NULL,    --  ÓÃ»§Ãû×Ö½ÚÊý¾Ý£¨¼ÓÃÜµÄ£© 
	Password varchar(max) DEFAULT NULL,    --  ÕË»§¿ÚÁî£¨C# MD5¼ÓÃÜ£© 
	IsExternal bit DEFAULT 0 NOT NULL    --  ÊÇ·ñÎªÍâ²¿ÕË»§¡£1/0¡£ 
)
;

CREATE TABLE dist.UserPropertyMessage ( 
	MessageId uniqueidentifier NOT NULL,    --  ÓÃ»§»ù±¾ÊôÐÔÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£ 
	Id uniqueidentifier NOT NULL,    --  ÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.UserProperty±í¡£ 
	FirstName nvarchar(32) NOT NULL,    --  ÓÃ»§µÄÃû×Ö¡£ 
	LastName nvarchar(32) NOT NULL,    --  ÓÃ»§µÄÐÕÊÏ¡£ 
	FullName nvarchar(64) NOT NULL,    --  ÓÃ»§µÄÍêÕûÐÕÃû¡£ 
	Gender char(1) DEFAULT 'M' NOT NULL,    --  ÐÔ±ð¡£M£ºÄÐ£»W£ºÅ®£»U£ºÎ´ÖªµÄ¡£ 
	BirthDate datetime DEFAULT NULL,    --  ³öÉúÈÕÆÚ¡£ 
	Age int DEFAULT NULL,    --  ÄêÁä¡£ 
	CertificateId uniqueidentifier DEFAULT NULL,    --  Ö¤¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£ 
	CertificateNO varbinary(max) DEFAULT NULL,    --  Ö¤¼þ±àºÅÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	OfficePhoneNO varbinary(max) DEFAULT NULL,    --  °ì¹«µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	MobileNO varbinary(max) DEFAULT NULL,    --  ÒÆ¶¯µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	Email varbinary(max) DEFAULT NULL    --  µç×ÓÓÊ¼þÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
)
;

CREATE TABLE core.UserProperty ( 
	Id uniqueidentifier NOT NULL,    --  ÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	FirstName nvarchar(32) NOT NULL,    --  ÓÃ»§µÄÃû×Ö¡£ 
	LastName nvarchar(32) NOT NULL,    --  ÓÃ»§µÄÐÕÊÏ¡£ 
	FullName nvarchar(64) NOT NULL,    --  ÓÃ»§µÄÍêÕûÐÕÃû¡£ 
	Gender char(1) DEFAULT 'M' NOT NULL,    --  ÐÔ±ð¡£M£ºÄÐ£»W£ºÅ®£»U£ºÎ´ÖªµÄ¡£ 
	BirthDate datetime DEFAULT NULL,    --  ³öÉúÈÕÆÚ¡£ 
	Age int DEFAULT NULL,    --  ÄêÁä¡£ 
	CertificateId uniqueidentifier DEFAULT NULL,    --  Ö¤¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£ 
	CertificateNO varbinary(max) DEFAULT NULL,    --  Ö¤¼þ±àºÅÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	OfficePhoneNO varbinary(max) DEFAULT NULL,    --  °ì¹«µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	MobileNO varbinary(max) DEFAULT NULL,    --  ÒÆ¶¯µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
	Email varbinary(max) DEFAULT NULL    --  µç×ÓÓÊ¼þÊý¾Ý£¨¼ÓÃÜµÄ£©¡£ 
)
;

CREATE TABLE dist.CertificateMessage ( 
	MessageId uniqueidentifier NOT NULL,    --  ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£ 
	CertificateId uniqueidentifier NOT NULL,    --  Ö¤¼þÀàÐÍ²ÎÊý±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£ 
	Category nvarchar(64) NOT NULL,    --  Ö¤¼þÀàÐÍÃû³Æ¡£ 
	IsPublic bit DEFAULT 1 NOT NULL    --  ÊÇ·ñ¹«ÓÃ¡£1/0¡£ 
)
;

CREATE TABLE core.Certificate ( 
	Id uniqueidentifier NOT NULL,    --  Ö¤¼þÀàÐÍ±êÊ¶¡£ 
	Category nvarchar(64) NOT NULL,    --  Ö¤¼þÀàÐÍÃû³Æ¡£ 
	IsPublic bit DEFAULT 1 NOT NULL    --  ÊÇ·ñ¹«ÓÃ¡£1/0¡£ 
)
;

CREATE TABLE dist.SubscribeWorkflow ( 
	Id uniqueidentifier NOT NULL,    --  ¹¤×÷Á÷±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	PrevWfID uniqueidentifier DEFAULT NULL,    --  Ç°Ò»¸ö¹¤×÷Á÷±êÊ¶¡£ 
	MessageId uniqueidentifier NOT NULL,    --  ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£ 
	ChannelId uniqueidentifier NOT NULL,    --  Ô¤¶©Í¨µÀ±êÊ¶¡£¹ØÁªµ½dist.SubscribeChannel±í¡£ 
	Status int DEFAULT 1 NOT NULL    --  ¹¤×÷Á÷×´Ì¬¡£1£º´ý·¢ËÍ£»2£ºÌáÈ¡µ½¶ÓÁÐ£»3£ºÒÑ·¢ËÍ£»4£ºµÈ´ý²¹·¢£»5£º·ÅÆú£»65535£ºÖÕÖ¹¡£ 
)
;

CREATE TABLE dist.SubscribeChannel ( 
	Id uniqueidentifier NOT NULL,    --  Ô¤¶¨Í¨µÀ±ê¼Ç¡£¹ØÁªµ½core.Base±í¡£ 
	ServerId uniqueidentifier NOT NULL,    --  Ô¤¶©·þÎñÆ÷±êÊ¶¡£¹ØÁªµ½dist.SubscribeServer±í¡£ 
	PublishMsgId uniqueidentifier NOT NULL,    --  ÐèÒªÔ¤¶©µÄÊý¾Ý·¢²¼ÊÂ¼þ±êÊ¶¡£¹ØÁªµ½dist.PublishEvent±í¡£ 
	MessageQueuePath varchar(256) NOT NULL,    --  ½ÓÊÕÔ¤¶©Êý¾ÝµÄMSMQË½ÓÐ¶ÓÁÐÂ·¾¶¡£ 
	IsTransactional bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÎªÊÂÎñÐÔµÄË½ÓÐ¶ÓÁÐ¡£1/0¡£ 
	MaxReissueTimes int DEFAULT 5 NOT NULL,    --  ×î´ó²¹·¢´ÎÊý¡£1/0¡£ 
	Deadletter bit DEFAULT 1 NOT NULL,    --  ·¢ËÍÊ§°Üºó£¬ÊÇ·ñÔÊÐí¼ÓÈëËÀÐÅ¡£ 
	ReceiptRequired bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÐèÒª¸÷ÖÖ×´Ì¬»ØÖ´¡£1/0¡£ 
	TimeoutMins int DEFAULT 10 NOT NULL    --  Ô¤¶©Êý¾Ý·¢ËÍ³¬Ê±·ÖÖÓÊý¡£³¬¹ýÔòÖ±½Ó¼ÓÈëËÀÐÅ»òÕß·ÅÆú¡£ 
)
;

CREATE TABLE dist.SubscribeServer ( 
	Id uniqueidentifier NOT NULL,    --  Ô¤¶©·þÎñÆ÷Î¨Ò»±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	CenterId uniqueidentifier NOT NULL,    --  ËùÊôµÄ·ÖÊý¾ÝÖÐÐÄ±êÊ¶¡£¹ØÁªµ½core.DataCenter±í¡£ 
	MachineName varchar(64) NOT NULL,    --  ·þÎñÆ÷»úÆ÷Ãû¡£ 
	IPv4 varchar(15) NOT NULL,    --  v4°æ±¾µÄIPµØÖ·¡£ 
	IPv6 varchar(128) DEFAULT NULL    --  v6°æ±¾µÄIPµØÖ·¡£ 
)
;

CREATE TABLE dist.SsoConfigurationMessage ( 
	MessageId uniqueidentifier NOT NULL,    --  ·Ö·¢µÄÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£ 
	ConfigId uniqueidentifier NOT NULL,    --  SSOÅäÖÃ±êÊ¶¡£¹ØÁªµ½sso.Configuration±í¡£ 
	ConfigName nvarchar(256) NOT NULL,    --  ÅäÖÃÃû³Æ¡£ 
	StartOpenAPI bit NOT NULL,    --  ÊÇ·ñÆôÓÃ¿ª·ÅÊ½API¡£ 
	CanInherit bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñ¿ÉÒÔ¼Ì³Ð¡£ 
	BaseId uniqueidentifier,    --  ¼Ì³Ð×ÔµÄÅäÖÃ±êÊ¶¡£ 
	TokenMark varchar(32) NOT NULL,    --  ÁîÅÆ±ê¼ÇÃû³Æ¡£ 
	TokenExpiredMins int DEFAULT 30 NOT NULL,    --  ÁîÅÆÊ§Ð§·ÖÖÓÊý¡£ 
	SsoRequired bit NOT NULL,    --  SSOÑéÖ¤ÊÇ·ñÊÇ±ØÐëµÄ¡£ 
	ShowRegisterLink bit NOT NULL,    --  ÊÇ·ñÏÔÊ¾×¢²áÁ´½Ó¡£ 
	RegisterLinkUrl varchar(1024),    --  ×¢²áÁ´½ÓµØÖ·¡£ 
	DefaultLanguage int DEFAULT 2052 NOT NULL    --  Ä¬ÈÏÓïÑÔ¡£ 
)
;

CREATE TABLE dist.Message ( 
	Id uniqueidentifier NOT NULL,    --  ÏûÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	EventId uniqueidentifier NOT NULL,    --  ¹ØÁªµÄÊÂ¼þ±íÊ¾¡£¹ØÁªµ½dist.Event±í¡£ 
	Completed bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñ×¼±¸Íê±Ï¡£1/0¡£ 
	Action char(1) DEFAULT 'C' NOT NULL    --  ÏûÏ¢µÄ¶¯×÷¡£'C':´´½¨;¡®U'£º¸üÐÂ£»'R'£ºÂß¼­ÒÆ³ý£»'D'£ºÎïÀíÒÆ³ý¡£ 
)
;

CREATE TABLE dist.PublishEvent ( 
	Id uniqueidentifier NOT NULL,    --  ·Ö·¢ÊÂ¼þÀàÐÍÎ¨Ò»±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	CmdTemplate varchar(max) NOT NULL    --  SQLÃüÁîÄ£°å¡£ 
)
;

CREATE TABLE dist.Event ( 
	Id uniqueidentifier NOT NULL,    --  ·Ö·¢ÊÂ¼þ±êÊ¶¡£ 
	TypeId uniqueidentifier NOT NULL,    --  ·Ö·¢ÊÂ¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½dist.PublishEvent±í¡£ 
	Cmd varchar(max) NOT NULL    --  »ñÈ¡·Ö·¢Êý¾ÝµÄSQLÃüÁîÎÄ±¾¡£ 
)
;

CREATE TABLE core.IDTransfer ( 
	Id uniqueidentifier NOT NULL,    --  ×ªÒÆ¹ØÏµ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	CenterId uniqueidentifier NOT NULL,    --  Êý¾ÝÖÐÐÄ±êÊ¶¡£¹ØÁªµ½core.DataCenter±í¡£ 
	SourceId uniqueidentifier NOT NULL,    --  Ô­Ê¼µÄ±êÊ¶¡£ 
	InternalId uniqueidentifier NOT NULL    --  ÔÚµ±Ç°Êý¾ÝÖÐÐÄÖÐµÄ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
)
;

CREATE TABLE core.DataCeter ( 
	Id uniqueidentifier NOT NULL,    --  Êý¾ÝÖÐÐÄÔÚ±¾»úÖÐµÄ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	Code varchar(64) NOT NULL,    --  Êý¾ÝÖÐÐÄÓ¢ÎÄ´úÂë¡£ 
	IsGlobal bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñÎª×ÜÊý¾ÝÖÐÐÄ¡£1/0¡£Ö»ÄÜÓÐÒ»¸ö×ÜÊý¾ÝÖÐÐÄ¡£ 
	Mac varchar(128) NOT NULL    --  ×ÜÊý¾ÝÖÐÐÄµÄMACµØÖ·¡£ 
)
;

CREATE TABLE sso.Application ( 
	Id uniqueidentifier NOT NULL,    --  Ó¦ÓÃÐÅÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	ConfigId uniqueidentifier NOT NULL,    --  SSOÅäÖÃ±êÊ¶¡£¹ØÁªµ½sso.Configuration±í¡£ 
	AppName nvarchar(128) NOT NULL,    --  Ó¦ÓÃÃû³Æ¡£ 
	IsBeta bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñÎª²âÊÔ°æµÄÓ¦ÓÃ¡£1/0¡£ 
	EmailOfService varchar(512) NOT NULL    --  ÓÃÓÚ»ñÈ¡·þÎñÐÅÏ¢µÄÓÊ¼þµØÖ·¡£ 
)
;

CREATE TABLE sso.Configuration ( 
	Id uniqueidentifier NOT NULL,    --  ÅäÖÃÐÅÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£ 
	ConfigName nvarchar(256) NOT NULL,    --  ÅäÖÃ±êÊ¶Ãû³Æ¡£ 
	StartOpenAPI bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÆôÓÃ¿ª·ÅAPI·ÃÎÊ¡£1/0¡£ 
	IsPrivate bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñÎªË½ÓÐÅäÖÃ¡£1/0¡£ 
	CanInherit bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñ¿ÉÒÔ¼Ì³Ð¡£1/0¡£ 
	BaseId uniqueidentifier DEFAULT NULL,    --  ¼Ì³ÐµÄÅäÖÃ±êÊ¶¡£ 
	TokenMark varchar(32) NOT NULL,    --  ÓÃÓÚ±£´æÁîÅÆÊý¾ÝµÄ¼üÃû³Æ¡£ 
	TokenExpiredMins int DEFAULT 30 NOT NULL,    --  ÁîÅÆ³¬Ê±·ÖÖÓÊý¡£ 
	SsoRequired bit DEFAULT 1 NOT NULL,    --  ÍË³öºó£¬ÏÂ´Î±ØÐëÖØÐÂµÇÂ¼¡£ 
	ShowRegisterLink bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÏÔÊ¾×¢²áÁ´½Ó¡£ 
	RegisterLinkUrl varchar(1024) DEFAULT NULL,    --  ×¢²áÁ´½ÓµØÖ·¡£ 
	DefaultLanguage int DEFAULT 2052 NOT NULL    --  Ä¬ÈÏµÄÓïÑÔLCID¡£ 
)
;

CREATE TABLE core.Base ( 
	Id uniqueidentifier DEFAULT Newid() NOT NULL,    --  ¶ÔÏóÎ¨Ò»±êÊ¶¡£ 
	PublicId varchar(256) NOT NULL,    --  ¶ÔÏóµÄ¿ª·Å±êÊ¶¡£ 
	Enabled bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñ¿ÉÓÃ¡£1/0¡£ 
	IsRemoved bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñÒÑ¾­±»Âß¼­ÒÆ³ý¡£1/0¡£ 
	Visible bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñ¿É¼û¡£1/0¡£ 
	IsDefault bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÎªÄ¬ÈÏµÄ¶ÔÏó¡£1/0¡£ 
	Actived bit DEFAULT 1 NOT NULL,    --  ÊÇ·ñÒÑ¾­±»¼¤»î¡£ 
	SortId int DEFAULT 0 NOT NULL,    --  ÅÅÐò±ê¼Ç¡£ 
	Version decimal(19,2) DEFAULT 1.00 NOT NULL,    --  °æ±¾ºÅ¡£ 
	IsLocked bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñ±»Ëø¶¨¡£1/0¡£ 
	IsFrozen bit DEFAULT 0 NOT NULL,    --  ÊÇ·ñ±»¶³½á¡£ 
	CreatedTime datetime DEFAULT Getdate() NOT NULL,    --  ¶ÔÏóµÄ´´½¨Ê±¼ä¡£ 
	LastModifiedTime datetime DEFAULT Getdate() NOT NULL,    --  ×îºóÒ»´Î±»ÐÞ¸ÄµÄÊ±¼ä¡£ 
	ModifiedTimes int DEFAULT 0 NOT NULL,    --  ¶ÔÏóÐÅÏ¢±»ÐÞ¸ÄµÄ´ÎÊý¡£ 
	ExtendedAttributes xml DEFAULT NULL,    --  À©Õ¹µÄÊôÐÔ¡£ 
	CompatibleExtendedAttributes nvarchar(max) DEFAULT NULL,    --  ÎªÁË±£Ö¤¼æÈÝÐÔµÄÀ©Õ¹ÊôÐÔ¡£ 
	Description nvarchar(max) DEFAULT NULL,    --  ÃèÊöÐÅÏ¢¡£ 
	Comments nvarchar(max) DEFAULT NULL    --  ±¸×¢ÐÅÏ¢¡£ 
)
;


--  Create Indexes 
ALTER TABLE sso.Token
	ADD CONSTRAINT UQ_Token_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Token_Progress
	ON sso.Token (ProgressId ASC)
;

CREATE INDEX IXFK_Token_Base
	ON sso.Token (Id ASC)
;

ALTER TABLE sso.Progress
	ADD CONSTRAINT UQ_Progress_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Progress_Base
	ON sso.Progress (Id ASC)
;

CREATE INDEX IXFK_Progress_Process
	ON sso.Progress (ProcessId ASC)
;

ALTER TABLE sso.Process
	ADD CONSTRAINT UQ_Process_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Process_Base
	ON sso.Process (Id ASC)
;

CREATE INDEX IXFK_Process_Application
	ON sso.Process (AppId ASC)
;

ALTER TABLE dist.UserAccountMessage
	ADD CONSTRAINT UQ_UserAccountMessage_MessageId UNIQUE (MessageId)
;

CREATE INDEX IXFK_UserAccountMessage_Message
	ON dist.UserAccountMessage (MessageId ASC)
;

CREATE INDEX IXFK_UserAccountMessage_UserAccount
	ON dist.UserAccountMessage (AccountId ASC)
;

ALTER TABLE sso.UserAccount
	ADD CONSTRAINT UQ_UserAccount_Id UNIQUE (Id)
;

CREATE INDEX IXFK_UserAccount_Base
	ON sso.UserAccount (Id ASC)
;

CREATE INDEX IXFK_UserAccount_UserProperty
	ON sso.UserAccount (PropertyId ASC)
;

ALTER TABLE dist.UserPropertyMessage
	ADD CONSTRAINT UQ_UserPropertyMessage_MessageId UNIQUE (MessageId)
;

ALTER TABLE dist.UserPropertyMessage
	ADD CONSTRAINT UQ_UserPropertyMessage_Id UNIQUE (Id)
;

CREATE INDEX IXFK_UserPropertyMessage_Message
	ON dist.UserPropertyMessage (MessageId ASC)
;

CREATE INDEX IXFK_UserPropertyMessage_UserProperty
	ON dist.UserPropertyMessage (Id ASC)
;

ALTER TABLE core.UserProperty
	ADD CONSTRAINT UQ_UserProperty_Id UNIQUE (Id)
;

CREATE INDEX IXFK_UserProperty_Base
	ON core.UserProperty (Id ASC)
;

ALTER TABLE dist.CertificateMessage
	ADD CONSTRAINT UQ_CertificateMessage_MessageId UNIQUE (MessageId)
;

CREATE INDEX IXFK_CertificateMessage_Certificate
	ON dist.CertificateMessage (CertificateId ASC)
;

CREATE INDEX IXFK_CertificateMessage_Message
	ON dist.CertificateMessage (MessageId ASC)
;

ALTER TABLE core.Certificate
	ADD CONSTRAINT UQ_Certificate_Id UNIQUE (Id)
;

ALTER TABLE core.Certificate
	ADD CONSTRAINT UQ_Certificate_Category UNIQUE (Category)
;

CREATE INDEX IXFK_Certificate_Base
	ON core.Certificate (Id ASC)
;

ALTER TABLE dist.SubscribeWorkflow
	ADD CONSTRAINT UQ_SubscribeWorkflow_Id UNIQUE (Id)
;

CREATE INDEX IXFK_SubscribeWorkflow_Base
	ON dist.SubscribeWorkflow (Id ASC)
;

CREATE INDEX IXFK_SubscribeWorkflow_Message
	ON dist.SubscribeWorkflow (MessageId ASC)
;

CREATE INDEX IXFK_SubscribeWorkflow_SubscribeChannel
	ON dist.SubscribeWorkflow (ChannelId ASC)
;

ALTER TABLE dist.SubscribeChannel
	ADD CONSTRAINT UQ_SubscribeChannel_Id UNIQUE (Id)
;

CREATE INDEX IXFK_SubscribeChannel_Base
	ON dist.SubscribeChannel (Id ASC)
;

CREATE INDEX IXFK_SubscribeChannel_SubscribeServer
	ON dist.SubscribeChannel (ServerId ASC)
;

CREATE INDEX IXFK_SubscribeChannel_PublishEvent
	ON dist.SubscribeChannel (PublishMsgId ASC)
;

ALTER TABLE dist.SubscribeServer
	ADD CONSTRAINT UQ_SubscribeServer_MachineName UNIQUE (MachineName)
;

ALTER TABLE dist.SubscribeServer
	ADD CONSTRAINT UQ_SubscribeServer_IPv4 UNIQUE (IPv4)
;

CREATE INDEX IXFK_SubscribeServer_Base
	ON dist.SubscribeServer (Id ASC)
;

CREATE INDEX IXFK_SubscribeServer_DataCeter
	ON dist.SubscribeServer (CenterId ASC)
;

ALTER TABLE dist.SubscribeServer
	ADD CONSTRAINT UQ_SubscribeServer_Id UNIQUE (Id)
;

CREATE INDEX IXFK_SsoConfiguration_Configuration
	ON dist.SsoConfigurationMessage (ConfigId ASC)
;

CREATE INDEX IXFK_SsoConfigurationMessage_Message
	ON dist.SsoConfigurationMessage (MessageId ASC)
;

ALTER TABLE dist.Message
	ADD CONSTRAINT UQ_Message_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Message_Base
	ON dist.Message (Id ASC)
;

CREATE INDEX IXFK_Message_Event
	ON dist.Message (EventId ASC)
;

ALTER TABLE dist.PublishEvent
	ADD CONSTRAINT UQ_PublishEvent_Id UNIQUE (Id)
;

CREATE INDEX IXFK_PublishEvent_Base
	ON dist.PublishEvent (Id ASC)
;

CREATE INDEX IXFK_Event_PublishEvent
	ON dist.Event (TypeId ASC)
;

ALTER TABLE dist.Event
	ADD CONSTRAINT UQ_Event_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Event_Base
	ON dist.Event (Id ASC)
;

ALTER TABLE core.IDTransfer
	ADD CONSTRAINT UQ_IDTransfer_Id UNIQUE (Id)
;

CREATE INDEX IXFK_IDTransfer_Base
	ON core.IDTransfer (Id ASC)
;

CREATE INDEX IXFK_IDTransfer_DataCeter
	ON core.IDTransfer (CenterId ASC)
;

CREATE INDEX IXFK_IDTransfer_Base_02
	ON core.IDTransfer (InternalId ASC)
;

ALTER TABLE core.DataCeter
	ADD CONSTRAINT UQ_DataCeter_Code UNIQUE (Code)
;

ALTER TABLE core.DataCeter
	ADD CONSTRAINT UQ_DataCeter_Id UNIQUE (Id)
;

CREATE INDEX IXFK_DataCeter_Base
	ON core.DataCeter (Id ASC)
;

ALTER TABLE core.DataCeter
	ADD CONSTRAINT UQ_DataCeter_Mac UNIQUE (Mac)
;

ALTER TABLE sso.Application
	ADD CONSTRAINT UQ_Application_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Application_Base
	ON sso.Application (Id ASC)
;

CREATE INDEX IXFK_Application_Configuration
	ON sso.Application (ConfigId ASC)
;

ALTER TABLE sso.Application
	ADD CONSTRAINT UQ_Application_AppName UNIQUE (AppName)
;

ALTER TABLE sso.Configuration
	ADD CONSTRAINT UQ_Configuration_Id UNIQUE (Id)
;

CREATE INDEX IXFK_Configuration_Base
	ON sso.Configuration (Id ASC)
;

ALTER TABLE sso.Configuration
	ADD CONSTRAINT UQ_Configuration_ConfigMark UNIQUE (ConfigName)
;

ALTER TABLE core.Base
	ADD CONSTRAINT UQ_Base_Id UNIQUE (Id)
;

--  Create Primary Key Constraints 
ALTER TABLE sso.Token ADD CONSTRAINT PK_Token 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE sso.Progress ADD CONSTRAINT PK_Progress 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE sso.Process ADD CONSTRAINT PK_Process 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.UserAccountMessage ADD CONSTRAINT PK_UserAccountMessage 
	PRIMARY KEY CLUSTERED (MessageId)
;

ALTER TABLE sso.UserAccount ADD CONSTRAINT PK_UserAccount 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.UserPropertyMessage ADD CONSTRAINT PK_UserPropertyMessage 
	PRIMARY KEY CLUSTERED (MessageId)
;

ALTER TABLE core.UserProperty ADD CONSTRAINT PK_UserProperty 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.CertificateMessage ADD CONSTRAINT PK_CertificateMessage 
	PRIMARY KEY CLUSTERED (MessageId)
;

ALTER TABLE core.Certificate ADD CONSTRAINT PK_Certificate 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.SubscribeWorkflow ADD CONSTRAINT PK_SubscribeWorkflow 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.SubscribeChannel ADD CONSTRAINT PK_SubscribeChannel 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.SubscribeServer ADD CONSTRAINT PK_SubscribeServer 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.SsoConfigurationMessage ADD CONSTRAINT PK_SsoConfiguration 
	PRIMARY KEY CLUSTERED (MessageId)
;

ALTER TABLE dist.Message ADD CONSTRAINT PK_Message 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.PublishEvent ADD CONSTRAINT PK_PublishEvent 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE dist.Event ADD CONSTRAINT PK_Event 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE core.IDTransfer ADD CONSTRAINT PK_IDTransfer 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE core.DataCeter ADD CONSTRAINT PK_DataCeter 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE sso.Application ADD CONSTRAINT PK_Application 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE sso.Configuration ADD CONSTRAINT PK_Configuration 
	PRIMARY KEY CLUSTERED (Id)
;

ALTER TABLE core.Base ADD CONSTRAINT PK_Base 
	PRIMARY KEY CLUSTERED (Id)
;



--  Create Foreign Key Constraints 
ALTER TABLE sso.Token ADD CONSTRAINT FK_Token_Progress 
	FOREIGN KEY (ProgressId) REFERENCES sso.Progress (Id)
;

ALTER TABLE sso.Token ADD CONSTRAINT FK_Token_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.Progress ADD CONSTRAINT FK_Progress_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.Progress ADD CONSTRAINT FK_Progress_Process 
	FOREIGN KEY (ProcessId) REFERENCES sso.Process (Id)
;

ALTER TABLE sso.Process ADD CONSTRAINT FK_Process_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.Process ADD CONSTRAINT FK_Process_Application 
	FOREIGN KEY (AppId) REFERENCES sso.Application (Id)
;

ALTER TABLE dist.UserAccountMessage ADD CONSTRAINT FK_UserAccountMessage_Message 
	FOREIGN KEY (MessageId) REFERENCES dist.Message (Id)
;

ALTER TABLE dist.UserAccountMessage ADD CONSTRAINT FK_UserAccountMessage_UserAccount 
	FOREIGN KEY (AccountId) REFERENCES sso.UserAccount (Id)
;

ALTER TABLE sso.UserAccount ADD CONSTRAINT FK_UserAccount_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.UserAccount ADD CONSTRAINT FK_UserAccount_UserProperty 
	FOREIGN KEY (PropertyId) REFERENCES core.UserProperty (Id)
;

ALTER TABLE dist.UserPropertyMessage ADD CONSTRAINT FK_UserPropertyMessage_Message 
	FOREIGN KEY (MessageId) REFERENCES dist.Message (Id)
;

ALTER TABLE dist.UserPropertyMessage ADD CONSTRAINT FK_UserPropertyMessage_UserProperty 
	FOREIGN KEY (Id) REFERENCES core.UserProperty (Id)
;

ALTER TABLE core.UserProperty ADD CONSTRAINT FK_UserProperty_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.CertificateMessage ADD CONSTRAINT FK_CertificateMessage_Certificate 
	FOREIGN KEY (CertificateId) REFERENCES core.Certificate (Id)
;

ALTER TABLE dist.CertificateMessage ADD CONSTRAINT FK_CertificateMessage_Message 
	FOREIGN KEY (MessageId) REFERENCES dist.Message (Id)
;

ALTER TABLE core.Certificate ADD CONSTRAINT FK_Certificate_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.SubscribeWorkflow ADD CONSTRAINT FK_SubscribeWorkflow_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.SubscribeWorkflow ADD CONSTRAINT FK_SubscribeWorkflow_Message 
	FOREIGN KEY (MessageId) REFERENCES dist.Message (Id)
;

ALTER TABLE dist.SubscribeWorkflow ADD CONSTRAINT FK_SubscribeWorkflow_SubscribeChannel 
	FOREIGN KEY (ChannelId) REFERENCES dist.SubscribeChannel (Id)
;

ALTER TABLE dist.SubscribeChannel ADD CONSTRAINT FK_SubscribeChannel_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.SubscribeChannel ADD CONSTRAINT FK_SubscribeChannel_SubscribeServer 
	FOREIGN KEY (ServerId) REFERENCES dist.SubscribeServer (Id)
;

ALTER TABLE dist.SubscribeChannel ADD CONSTRAINT FK_SubscribeChannel_PublishEvent 
	FOREIGN KEY (PublishMsgId) REFERENCES dist.PublishEvent (Id)
;

ALTER TABLE dist.SubscribeServer ADD CONSTRAINT FK_SubscribeServer_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.SubscribeServer ADD CONSTRAINT FK_SubscribeServer_DataCeter 
	FOREIGN KEY (CenterId) REFERENCES core.DataCeter (Id)
;

ALTER TABLE dist.SsoConfigurationMessage ADD CONSTRAINT FK_SsoConfiguration_Configuration 
	FOREIGN KEY (ConfigId) REFERENCES sso.Configuration (Id)
;

ALTER TABLE dist.SsoConfigurationMessage ADD CONSTRAINT FK_SsoConfigurationMessage_Message 
	FOREIGN KEY (MessageId) REFERENCES dist.Message (Id)
;

ALTER TABLE dist.Message ADD CONSTRAINT FK_Message_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.Message ADD CONSTRAINT FK_Message_Event 
	FOREIGN KEY (EventId) REFERENCES dist.Event (Id)
;

ALTER TABLE dist.PublishEvent ADD CONSTRAINT FK_PublishEvent_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE dist.Event ADD CONSTRAINT FK_Event_PublishEvent 
	FOREIGN KEY (TypeId) REFERENCES dist.PublishEvent (Id)
;

ALTER TABLE dist.Event ADD CONSTRAINT FK_Event_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE core.IDTransfer ADD CONSTRAINT FK_IDTransfer_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE core.IDTransfer ADD CONSTRAINT FK_IDTransfer_DataCeter 
	FOREIGN KEY (CenterId) REFERENCES core.DataCeter (Id)
;

ALTER TABLE core.IDTransfer ADD CONSTRAINT FK_IDTransfer_Base_02 
	FOREIGN KEY (InternalId) REFERENCES core.Base (Id)
;

ALTER TABLE core.DataCeter ADD CONSTRAINT FK_DataCeter_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.Application ADD CONSTRAINT FK_Application_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;

ALTER TABLE sso.Application ADD CONSTRAINT FK_Application_Configuration 
	FOREIGN KEY (ConfigId) REFERENCES sso.Configuration (Id)
;

ALTER TABLE sso.Configuration ADD CONSTRAINT FK_Configuration_Base 
	FOREIGN KEY (Id) REFERENCES core.Base (Id)
;









EXEC sp_addextendedproperty 'MS_Description', 'SSOµÇÂ¼ÑéÖ¤ÁîÅÆ±í¡£', 'Schema', sso, 'table', Token
;
EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆ±ê¼Ç¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', Token, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOµÇÂ¼½ø¶È±êÊ¶¡£¹ØÁªµ½sso.Progress±í¡£', 'Schema', sso, 'table', Token, 'column', ProgressId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆ×Ö½ÚÊý¾Ý¡£', 'Schema', sso, 'table', Token, 'column', TokenData
;

EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆµÄ16½øÖÆ×Ö·û´®±í´ïÊ½¡£', 'Schema', sso, 'table', Token, 'column', TokenHexStr
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOµÇÂ¼ÑéÖ¤½ø¶È±í¡£', 'Schema', sso, 'table', Progress
;
EXEC sp_addextendedproperty 'MS_Description', 'µÇÂ¼½ø¶È±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', Progress, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'µÇÂ¼½ø³Ì±êÊ¶¡£¹ØÁªµ½sso.Process±í¡£', 'Schema', sso, 'table', Progress, 'column', ProcessId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ³É¹¦¡£1/0¡£', 'Schema', sso, 'table', Progress, 'column', Success
;

EXEC sp_addextendedproperty 'MS_Description', 'µÇÂ¼½ø³ÌÐÅÏ¢±í¡£', 'Schema', sso, 'table', Process
;
EXEC sp_addextendedproperty 'MS_Description', 'µÇÂ¼½ø³Ì±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', Process, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'ÇëÇóSSOµÇÂ¼ÑéÖ¤µÄÓ¦ÓÃ±êÊ¶¡£¹ØÁªµ½sso.Application±í¡£', 'Schema', sso, 'table', Process, 'column', AppId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªWEBÓ¦ÓÃ¡£', 'Schema', sso, 'table', Process, 'column', IsWeb
;

EXEC sp_addextendedproperty 'MS_Description', 'ÇëÇóµÇÂ¼µÄÔ­Ê¼URL¡£', 'Schema', sso, 'table', Process, 'column', RawUrl
;

EXEC sp_addextendedproperty 'MS_Description', 'ÇëÇóSSOµÄ¿Í»§¶ËIPµØÖ·¡£', 'Schema', sso, 'table', Process, 'column', ClientIP
;

EXEC sp_addextendedproperty 'MS_Description', 'ÇëÇóSSOµÄ¿Í»§¶ËÖ÷»úÃû³Æ¡£', 'Schema', sso, 'table', Process, 'column', HostName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§ÕË»§ÐÅÏ¢ÏûÏ¢±í¡£', 'Schema', dist, 'table', UserAccountMessage
;
EXEC sp_addextendedproperty 'MS_Description', 'ÕË»§ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£', 'Schema', dist, 'table', UserAccountMessage, 'column', MessageId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÕË»§±êÊ¶¡£¹ØÁªµ½sso.UserAccount±í¡£', 'Schema', dist, 'table', UserAccountMessage, 'column', AccountId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§Ãû×Ö½ÚÊý¾Ý£¨¼ÓÃÜµÄ£©', 'Schema', dist, 'table', UserAccountMessage, 'column', UserName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÕË»§¿ÚÁî£¨C# MD5¼ÓÃÜ£©', 'Schema', dist, 'table', UserAccountMessage, 'column', Password
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªÍâ²¿ÕË»§¡£1/0¡£', 'Schema', dist, 'table', UserAccountMessage, 'column', IsExternal
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§ÕË»§ÐÅÏ¢±í¡£', 'Schema', sso, 'table', UserAccount
;
EXEC sp_addextendedproperty 'MS_Description', 'ÕË»§±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', UserAccount, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', '¹ØÁªµÄÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.UserProperty±í¡£', 'Schema', sso, 'table', UserAccount, 'column', PropertyId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§Ãû×Ö½ÚÊý¾Ý£¨¼ÓÃÜµÄ£©', 'Schema', sso, 'table', UserAccount, 'column', UserName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÕË»§¿ÚÁî£¨C# MD5¼ÓÃÜ£©', 'Schema', sso, 'table', UserAccount, 'column', Password
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªÍâ²¿ÕË»§¡£1/0¡£', 'Schema', sso, 'table', UserAccount, 'column', IsExternal
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§»ù±¾ÊôÐÔÏûÏ¢±í¡£', 'Schema', dist, 'table', UserPropertyMessage
;
EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§»ù±¾ÊôÐÔÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', MessageId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.UserProperty±í¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÃû×Ö¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', FirstName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÐÕÊÏ¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', LastName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÍêÕûÐÕÃû¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', FullName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÐÔ±ð¡£M£ºÄÐ£»W£ºÅ®£»U£ºÎ´ÖªµÄ¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', Gender
;

EXEC sp_addextendedproperty 'MS_Description', '³öÉúÈÕÆÚ¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', BirthDate
;

EXEC sp_addextendedproperty 'MS_Description', 'ÄêÁä¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', Age
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', CertificateId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þ±àºÅÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', CertificateNO
;

EXEC sp_addextendedproperty 'MS_Description', '°ì¹«µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', OfficePhoneNO
;

EXEC sp_addextendedproperty 'MS_Description', 'ÒÆ¶¯µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', MobileNO
;

EXEC sp_addextendedproperty 'MS_Description', 'µç×ÓÓÊ¼þÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', dist, 'table', UserPropertyMessage, 'column', Email
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§»ù±¾ÊôÐÔ±í¡£', 'Schema', core, 'table', UserProperty
;
EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§»ù±¾ÊôÐÔ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', core, 'table', UserProperty, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÃû×Ö¡£', 'Schema', core, 'table', UserProperty, 'column', FirstName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÐÕÊÏ¡£', 'Schema', core, 'table', UserProperty, 'column', LastName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃ»§µÄÍêÕûÐÕÃû¡£', 'Schema', core, 'table', UserProperty, 'column', FullName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÐÔ±ð¡£M£ºÄÐ£»W£ºÅ®£»U£ºÎ´ÖªµÄ¡£', 'Schema', core, 'table', UserProperty, 'column', Gender
;

EXEC sp_addextendedproperty 'MS_Description', '³öÉúÈÕÆÚ¡£', 'Schema', core, 'table', UserProperty, 'column', BirthDate
;

EXEC sp_addextendedproperty 'MS_Description', 'ÄêÁä¡£', 'Schema', core, 'table', UserProperty, 'column', Age
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£', 'Schema', core, 'table', UserProperty, 'column', CertificateId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þ±àºÅÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', core, 'table', UserProperty, 'column', CertificateNO
;

EXEC sp_addextendedproperty 'MS_Description', '°ì¹«µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', core, 'table', UserProperty, 'column', OfficePhoneNO
;

EXEC sp_addextendedproperty 'MS_Description', 'ÒÆ¶¯µç»°ºÅÂëÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', core, 'table', UserProperty, 'column', MobileNO
;

EXEC sp_addextendedproperty 'MS_Description', 'µç×ÓÓÊ¼þÊý¾Ý£¨¼ÓÃÜµÄ£©¡£', 'Schema', core, 'table', UserProperty, 'column', Email
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ²ÎÊýÏûÏ¢±í¡£', 'Schema', dist, 'table', CertificateMessage
;
EXEC sp_addextendedproperty 'MS_Description', 'ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£', 'Schema', dist, 'table', CertificateMessage, 'column', MessageId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ²ÎÊý±êÊ¶¡£¹ØÁªµ½core.Certificate±í¡£', 'Schema', dist, 'table', CertificateMessage, 'column', CertificateId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍÃû³Æ¡£', 'Schema', dist, 'table', CertificateMessage, 'column', Category
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¹«ÓÃ¡£1/0¡£', 'Schema', dist, 'table', CertificateMessage, 'column', IsPublic
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ²ÎÊý±í¡£', 'Schema', core, 'table', Certificate
;
EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍ±êÊ¶¡£', 'Schema', core, 'table', Certificate, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'Ö¤¼þÀàÐÍÃû³Æ¡£', 'Schema', core, 'table', Certificate, 'column', Category
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¹«ÓÃ¡£1/0¡£', 'Schema', core, 'table', Certificate, 'column', IsPublic
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©Êý¾Ý¹¤×÷Á÷¡£', 'Schema', dist, 'table', SubscribeWorkflow
;
EXEC sp_addextendedproperty 'MS_Description', '¹¤×÷Á÷±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', dist, 'table', SubscribeWorkflow, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'Ç°Ò»¸ö¹¤×÷Á÷±êÊ¶¡£', 'Schema', dist, 'table', SubscribeWorkflow, 'column', PrevWfID
;

EXEC sp_addextendedproperty 'MS_Description', 'ÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£', 'Schema', dist, 'table', SubscribeWorkflow, 'column', MessageId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©Í¨µÀ±êÊ¶¡£¹ØÁªµ½dist.SubscribeChannel±í¡£', 'Schema', dist, 'table', SubscribeWorkflow, 'column', ChannelId
;

EXEC sp_addextendedproperty 'MS_Description', '¹¤×÷Á÷×´Ì¬¡£1£º´ý·¢ËÍ£»2£ºÌáÈ¡µ½¶ÓÁÐ£»3£ºÒÑ·¢ËÍ£»4£ºµÈ´ý²¹·¢£»5£º·ÅÆú£»65535£ºÖÕÖ¹¡£', 'Schema', dist, 'table', SubscribeWorkflow, 'column', Status
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©Êý¾ÝÍ¨µÀ¡£', 'Schema', dist, 'table', SubscribeChannel
;
EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶¨Í¨µÀ±ê¼Ç¡£¹ØÁªµ½core.Base±í¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©·þÎñÆ÷±êÊ¶¡£¹ØÁªµ½dist.SubscribeServer±í¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', ServerId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÐèÒªÔ¤¶©µÄÊý¾Ý·¢²¼ÊÂ¼þ±êÊ¶¡£¹ØÁªµ½dist.PublishEvent±í¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', PublishMsgId
;

EXEC sp_addextendedproperty 'MS_Description', '½ÓÊÕÔ¤¶©Êý¾ÝµÄMSMQË½ÓÐ¶ÓÁÐÂ·¾¶¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', MessageQueuePath
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªÊÂÎñÐÔµÄË½ÓÐ¶ÓÁÐ¡£1/0¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', IsTransactional
;

EXEC sp_addextendedproperty 'MS_Description', '×î´ó²¹·¢´ÎÊý¡£1/0¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', MaxReissueTimes
;

EXEC sp_addextendedproperty 'MS_Description', '·¢ËÍÊ§°Üºó£¬ÊÇ·ñÔÊÐí¼ÓÈëËÀÐÅ¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', Deadletter
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÐèÒª¸÷ÖÖ×´Ì¬»ØÖ´¡£1/0¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', ReceiptRequired
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©Êý¾Ý·¢ËÍ³¬Ê±·ÖÖÓÊý¡£³¬¹ýÔòÖ±½Ó¼ÓÈëËÀÐÅ»òÕß·ÅÆú¡£', 'Schema', dist, 'table', SubscribeChannel, 'column', TimeoutMins
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©·þÎñÆ÷ÐÅÏ¢±í¡£', 'Schema', dist, 'table', SubscribeServer
;
EXEC sp_addextendedproperty 'MS_Description', 'Ô¤¶©·þÎñÆ÷Î¨Ò»±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', dist, 'table', SubscribeServer, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'ËùÊôµÄ·ÖÊý¾ÝÖÐÐÄ±êÊ¶¡£¹ØÁªµ½core.DataCenter±í¡£', 'Schema', dist, 'table', SubscribeServer, 'column', CenterId
;

EXEC sp_addextendedproperty 'MS_Description', '·þÎñÆ÷»úÆ÷Ãû¡£', 'Schema', dist, 'table', SubscribeServer, 'column', MachineName
;

EXEC sp_addextendedproperty 'MS_Description', 'v4°æ±¾µÄIPµØÖ·¡£', 'Schema', dist, 'table', SubscribeServer, 'column', IPv4
;

EXEC sp_addextendedproperty 'MS_Description', 'v6°æ±¾µÄIPµØÖ·¡£', 'Schema', dist, 'table', SubscribeServer, 'column', IPv6
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOÅäÖÃ·Ö·¢ÏûÏ¢±í¡£½ö·Ö·¢¹«¿ªµÄSSOµÄÅäÖÃ¡£', 'Schema', dist, 'table', SsoConfigurationMessage
;
EXEC sp_addextendedproperty 'MS_Description', '·Ö·¢µÄÏûÏ¢±êÊ¶¡£¹ØÁªµ½dist.Message±í¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', MessageId
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOÅäÖÃ±êÊ¶¡£¹ØÁªµ½sso.Configuration±í¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', ConfigId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÅäÖÃÃû³Æ¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', ConfigName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÆôÓÃ¿ª·ÅÊ½API¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', StartOpenAPI
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¿ÉÒÔ¼Ì³Ð¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', CanInherit
;

EXEC sp_addextendedproperty 'MS_Description', '¼Ì³Ð×ÔµÄÅäÖÃ±êÊ¶¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', BaseId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆ±ê¼ÇÃû³Æ¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', TokenMark
;

EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆÊ§Ð§·ÖÖÓÊý¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', TokenExpiredMins
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOÑéÖ¤ÊÇ·ñÊÇ±ØÐëµÄ¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', SsoRequired
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÏÔÊ¾×¢²áÁ´½Ó¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', ShowRegisterLink
;

EXEC sp_addextendedproperty 'MS_Description', '×¢²áÁ´½ÓµØÖ·¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', RegisterLinkUrl
;

EXEC sp_addextendedproperty 'MS_Description', 'Ä¬ÈÏÓïÑÔ¡£', 'Schema', dist, 'table', SsoConfigurationMessage, 'column', DefaultLanguage
;

EXEC sp_addextendedproperty 'MS_Description', '·Ö·¢ÊÂ¼þ»ù±¾ÏûÏ¢Êý¾Ý¡£', 'Schema', dist, 'table', Message
;
EXEC sp_addextendedproperty 'MS_Description', 'ÏûÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', dist, 'table', Message, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', '¹ØÁªµÄÊÂ¼þ±íÊ¾¡£¹ØÁªµ½dist.Event±í¡£', 'Schema', dist, 'table', Message, 'column', EventId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ×¼±¸Íê±Ï¡£1/0¡£', 'Schema', dist, 'table', Message, 'column', Completed
;

EXEC sp_addextendedproperty 'MS_Description', 'ÏûÏ¢µÄ¶¯×÷¡£''C'':´´½¨;¡®U''£º¸üÐÂ£»''R''£ºÂß¼­ÒÆ³ý£»''D''£ºÎïÀíÒÆ³ý¡£', 'Schema', dist, 'table', Message, 'column', Action
;

EXEC sp_addextendedproperty 'MS_Description', '¶ÔÍâ·¢²¼µÄ·Ö·¢ÊÂ¼þÀàÐÍ¡£', 'Schema', dist, 'table', PublishEvent
;
EXEC sp_addextendedproperty 'MS_Description', '·Ö·¢ÊÂ¼þÀàÐÍÎ¨Ò»±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', dist, 'table', PublishEvent, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'SQLÃüÁîÄ£°å¡£', 'Schema', dist, 'table', PublishEvent, 'column', CmdTemplate
;

EXEC sp_addextendedproperty 'MS_Description', 'Êý¾Ý·Ö·¢ÊÂ¼þ±í¡£', 'Schema', dist, 'table', Event
;
EXEC sp_addextendedproperty 'MS_Description', '·Ö·¢ÊÂ¼þ±êÊ¶¡£', 'Schema', dist, 'table', Event, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', '·Ö·¢ÊÂ¼þÀàÐÍ±êÊ¶¡£¹ØÁªµ½dist.PublishEvent±í¡£', 'Schema', dist, 'table', Event, 'column', TypeId
;

EXEC sp_addextendedproperty 'MS_Description', '»ñÈ¡·Ö·¢Êý¾ÝµÄSQLÃüÁîÎÄ±¾¡£', 'Schema', dist, 'table', Event, 'column', Cmd
;

EXEC sp_addextendedproperty 'MS_Description', 'Êý¾ÝÖÐÐÄ¶ÔÏó±êÊ¶×ªÒÆ¹ØÏµ±í¡£', 'Schema', core, 'table', IDTransfer
;
EXEC sp_addextendedproperty 'MS_Description', '×ªÒÆ¹ØÏµ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', core, 'table', IDTransfer, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'Êý¾ÝÖÐÐÄ±êÊ¶¡£¹ØÁªµ½core.DataCenter±í¡£', 'Schema', core, 'table', IDTransfer, 'column', CenterId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ô­Ê¼µÄ±êÊ¶¡£', 'Schema', core, 'table', IDTransfer, 'column', SourceId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÔÚµ±Ç°Êý¾ÝÖÐÐÄÖÐµÄ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', core, 'table', IDTransfer, 'column', InternalId
;

EXEC sp_addextendedproperty 'MS_Description', 'Êý¾ÝÖÐÐÄÐÅÏ¢±í¡£', 'Schema', core, 'table', DataCeter
;
EXEC sp_addextendedproperty 'MS_Description', 'Êý¾ÝÖÐÐÄÔÚ±¾»úÖÐµÄ±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', core, 'table', DataCeter, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'Êý¾ÝÖÐÐÄÓ¢ÎÄ´úÂë¡£', 'Schema', core, 'table', DataCeter, 'column', Code
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎª×ÜÊý¾ÝÖÐÐÄ¡£1/0¡£Ö»ÄÜÓÐÒ»¸ö×ÜÊý¾ÝÖÐÐÄ¡£', 'Schema', core, 'table', DataCeter, 'column', IsGlobal
;

EXEC sp_addextendedproperty 'MS_Description', '×ÜÊý¾ÝÖÐÐÄµÄMACµØÖ·¡£', 'Schema', core, 'table', DataCeter, 'column', Mac
;

EXEC sp_addextendedproperty 'MS_Description', 'Ó¦ÓÃ×¢²áÐÅÏ¢¡£', 'Schema', sso, 'table', Application
;
EXEC sp_addextendedproperty 'MS_Description', 'Ó¦ÓÃÐÅÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', Application, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOÅäÖÃ±êÊ¶¡£¹ØÁªµ½sso.Configuration±í¡£', 'Schema', sso, 'table', Application, 'column', ConfigId
;

EXEC sp_addextendedproperty 'MS_Description', 'Ó¦ÓÃÃû³Æ¡£', 'Schema', sso, 'table', Application, 'column', AppName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎª²âÊÔ°æµÄÓ¦ÓÃ¡£1/0¡£', 'Schema', sso, 'table', Application, 'column', IsBeta
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃÓÚ»ñÈ¡·þÎñÐÅÏ¢µÄÓÊ¼þµØÖ·¡£', 'Schema', sso, 'table', Application, 'column', EmailOfService
;

EXEC sp_addextendedproperty 'MS_Description', 'SSOÅäÖÃÐÅÏ¢¡£', 'Schema', sso, 'table', Configuration
;
EXEC sp_addextendedproperty 'MS_Description', 'ÅäÖÃÐÅÏ¢±êÊ¶¡£¹ØÁªµ½core.Base±í¡£', 'Schema', sso, 'table', Configuration, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', 'ÅäÖÃ±êÊ¶Ãû³Æ¡£', 'Schema', sso, 'table', Configuration, 'column', ConfigName
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÆôÓÃ¿ª·ÅAPI·ÃÎÊ¡£1/0¡£', 'Schema', sso, 'table', Configuration, 'column', StartOpenAPI
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªË½ÓÐÅäÖÃ¡£1/0¡£', 'Schema', sso, 'table', Configuration, 'column', IsPrivate
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¿ÉÒÔ¼Ì³Ð¡£1/0¡£', 'Schema', sso, 'table', Configuration, 'column', CanInherit
;

EXEC sp_addextendedproperty 'MS_Description', '¼Ì³ÐµÄÅäÖÃ±êÊ¶¡£', 'Schema', sso, 'table', Configuration, 'column', BaseId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÓÃÓÚ±£´æÁîÅÆÊý¾ÝµÄ¼üÃû³Æ¡£', 'Schema', sso, 'table', Configuration, 'column', TokenMark
;

EXEC sp_addextendedproperty 'MS_Description', 'ÁîÅÆ³¬Ê±·ÖÖÓÊý¡£', 'Schema', sso, 'table', Configuration, 'column', TokenExpiredMins
;

EXEC sp_addextendedproperty 'MS_Description', 'ÍË³öºó£¬ÏÂ´Î±ØÐëÖØÐÂµÇÂ¼¡£', 'Schema', sso, 'table', Configuration, 'column', SsoRequired
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÏÔÊ¾×¢²áÁ´½Ó¡£', 'Schema', sso, 'table', Configuration, 'column', ShowRegisterLink
;

EXEC sp_addextendedproperty 'MS_Description', '×¢²áÁ´½ÓµØÖ·¡£', 'Schema', sso, 'table', Configuration, 'column', RegisterLinkUrl
;

EXEC sp_addextendedproperty 'MS_Description', 'Ä¬ÈÏµÄÓïÑÔLCID¡£', 'Schema', sso, 'table', Configuration, 'column', DefaultLanguage
;

EXEC sp_addextendedproperty 'MS_Description', '¶ÔÏó»ù±¾ÊôÐÔÐÅÏ¢±í¡£', 'Schema', core, 'table', Base
;
EXEC sp_addextendedproperty 'MS_Description', '¶ÔÏóÎ¨Ò»±êÊ¶¡£', 'Schema', core, 'table', Base, 'column', Id
;

EXEC sp_addextendedproperty 'MS_Description', '¶ÔÏóµÄ¿ª·Å±êÊ¶¡£', 'Schema', core, 'table', Base, 'column', PublicId
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¿ÉÓÃ¡£1/0¡£', 'Schema', core, 'table', Base, 'column', Enabled
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÒÑ¾­±»Âß¼­ÒÆ³ý¡£1/0¡£', 'Schema', core, 'table', Base, 'column', IsRemoved
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ¿É¼û¡£1/0¡£', 'Schema', core, 'table', Base, 'column', Visible
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÎªÄ¬ÈÏµÄ¶ÔÏó¡£1/0¡£', 'Schema', core, 'table', Base, 'column', IsDefault
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñÒÑ¾­±»¼¤»î¡£', 'Schema', core, 'table', Base, 'column', Actived
;

EXEC sp_addextendedproperty 'MS_Description', 'ÅÅÐò±ê¼Ç¡£', 'Schema', core, 'table', Base, 'column', SortId
;

EXEC sp_addextendedproperty 'MS_Description', '°æ±¾ºÅ¡£', 'Schema', core, 'table', Base, 'column', Version
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ±»Ëø¶¨¡£1/0¡£', 'Schema', core, 'table', Base, 'column', IsLocked
;

EXEC sp_addextendedproperty 'MS_Description', 'ÊÇ·ñ±»¶³½á¡£', 'Schema', core, 'table', Base, 'column', IsFrozen
;

EXEC sp_addextendedproperty 'MS_Description', '¶ÔÏóµÄ´´½¨Ê±¼ä¡£', 'Schema', core, 'table', Base, 'column', CreatedTime
;

EXEC sp_addextendedproperty 'MS_Description', '×îºóÒ»´Î±»ÐÞ¸ÄµÄÊ±¼ä¡£', 'Schema', core, 'table', Base, 'column', LastModifiedTime
;

EXEC sp_addextendedproperty 'MS_Description', '¶ÔÏóÐÅÏ¢±»ÐÞ¸ÄµÄ´ÎÊý¡£', 'Schema', core, 'table', Base, 'column', ModifiedTimes
;

EXEC sp_addextendedproperty 'MS_Description', 'À©Õ¹µÄÊôÐÔ¡£', 'Schema', core, 'table', Base, 'column', ExtendedAttributes
;

EXEC sp_addextendedproperty 'MS_Description', 'ÎªÁË±£Ö¤¼æÈÝÐÔµÄÀ©Õ¹ÊôÐÔ¡£', 'Schema', core, 'table', Base, 'column', CompatibleExtendedAttributes
;

EXEC sp_addextendedproperty 'MS_Description', 'ÃèÊöÐÅÏ¢¡£', 'Schema', core, 'table', Base, 'column', Description
;

EXEC sp_addextendedproperty 'MS_Description', '±¸×¢ÐÅÏ¢¡£', 'Schema', core, 'table', Base, 'column', Comments
;
